# Series 4: LoRA -- Learning Rate Sweep
# Goal: Find the optimal LR for the best rank from Series 3.
# Fixed: lora_rank=BEST_FROM_S3, steps=20
# Swept: learning_rate
# NOTE: Update lora_rank and lora_alpha after Series 3 completes.

method: lora
series: 4
series_name: lora_lr_sweep
description: "LoRA learning rate sweep at best rank"
depends_on: [3]

fixed:
  lora_rank: 8        # PLACEHOLDER -- update from Series 3 best
  lora_alpha: 16      # PLACEHOLDER -- 2x rank
  num_steps: 20
  warmup_steps: 3
  weight_decay: 0.01
  max_grad_norm: 1.0
  target_modules: "qkv,proj"
  target_ffn: false
  num_cond_frames: 14
  num_frames: 28
  gen_start_frame: 32
  num_inference_steps: 50
  guidance_scale: 4.0
  resolution: 480p
  seed: 42
  max_videos: 100

sweep:
  - run_id: L6
    learning_rate: 5.0e-5
  - run_id: L7
    learning_rate: 1.0e-4
  - run_id: L8
    learning_rate: 2.0e-4
  - run_id: L9
    learning_rate: 5.0e-4
  - run_id: L10
    learning_rate: 1.0e-3
